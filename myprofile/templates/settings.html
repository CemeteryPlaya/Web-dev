<!DOCTYPE html>
<html lang="ru">
{% load static %}    	

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Inter Cargo - доставка из Китая в Казахстан</title>
    <link rel="icon" type="image/x-icon" href="{% static 'images/favicon.ico' %}">
    <script src="https://cdn.tailwindcss.com/3.4.16"></script>
    <script>tailwind.config={theme:{extend:{colors:{primary:'#e53e3e',secondary:'#4a5568'},borderRadius:{'none':'0px','sm':'4px',DEFAULT:'8px','md':'12px','lg':'16px','xl':'20px','2xl':'24px','3xl':'32px','full':'9999px','button':'8px'}}}}</script>
    <script src="{% static 'scripts/core.js' %}"></script>
    <script src="{% static 'scripts/menu.js' %}"></script>
    <script src="{% static 'scripts/notifications.js' %}"></script>
    <script src="{% static 'scripts/faq.js' %}"></script>
    <script src="{% static 'scripts/phone.js' %}"></script>
    <script src="{% static 'scripts/forms.js' %}"></script>
    <script src="{% static 'scripts/cdn.min.js' %}" defer></script>
    <link rel="stylesheet" href="{% static 'styles/css2.css' %}"/>
    <link href="https://fonts.googleapis.com/css2?family=Pacifico&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="{% static 'styles/styles.css' %}"/>
    <link rel="stylesheet" href="{% static 'styles/remixicon/remixicon.css' %}"/>
    <a id="phone"></a>
</head>
<body class="bg-gray-50 min-h-screen">
    {% include 'includes/header.html' %}

        {% block content %}
        <div class="flex min-h-screen w-full">
            <!-- Sidebar -->
            {% include 'includes/sidebar.html' %}

            <section id="account-settings" class="flex-1 bg-white p-6 rounded-lg shadow border border-gray-200 mb-6">
                <h2 class="text-xl font-semibold mb-4 text-gray-800">
                    <i class="ri-settings-3-line text-red-500"></i> Настройки аккаунта
                </h2>

                <form method="post" action="{% url 'update_profile' %}" class="space-y-4">
                    {% csrf_token %}

                    <!-- Email -->
                    <div>
                        <label for="email" class="block font-medium text-gray-700 mb-1">Электронная почта</label>
                        <input type="email" name="email" id="email" value="{{ user.email }}" class="w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-red-400">
                    </div>

                    <!-- Phone -->
                    <div>
                        <label for="phone" class="block font-medium text-gray-700 mb-1">Номер телефона</label>
                        <input type="text" name="phone" id="phone" class="w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-red-400" value="{{ profile.phone }}" required>
                    </div>

                    <!-- Pickup -->
                    <div>
                        <label for="pickup" class="block font-medium text-gray-700 mb-1">Пункт выдачи</label>
                        <select id="pickup" name="pickup" value="{{ user.userprofile.pickup }}" required class="w-full px-4 py-3 pr-8 border border-gray-300 rounded appearance-none focus:ring-2 focus:ring-primary focus:border-primary transition">
                            <option value="akbulak" {% if profile.pickup == "akbulak" %}selected{% endif %}>Акбулак 21 (Ozon)</option>
                            <option value="pushkina" {% if profile.pickup == "pushkina" %}selected{% endif %}>Пушкина 8 (Ozon)</option>
                            <option value="tashkentskaya" {% if profile.pickup == "tashkentskaya" %}selected{% endif %}>Ташкентская 286 (Ozon)</option>
                            <option value="abaya323" {% if profile.pickup == "abaya323" %}selected{% endif %}>Абая 323 (Beer bochka)</option>
                            <option value="bayseytovoy" {% if profile.pickup == "bayseytovoy" %}selected{% endif %}>Байсеитовой 30 (Ozon)</option>
                            <option value="samal" {% if profile.pickup == "samal" %}selected{% endif %}>Самал 48 (Wildberries)</option>
                            <option value="sorokina" {% if profile.pickup == "sorokina" %}selected{% endif %}>Сорокина 7 (Ozon)</option>
                            <option value="ashimbaeva" {% if profile.pickup == "ashimbaeva" %}selected{% endif %}>Ашимбаева 5 (Ozon)</option>
                            <option value="akkozieva" {% if profile.pickup == "akkozieva" %}selected{% endif %}>Аккозиева 53 (Ozon)</option>
                            <option value="abaya286" {% if profile.pickup == "abaya286" %}selected{% endif %}>Абая 286 (Ozon)</option>
                            <option value="atabaeva" {% if profile.pickup == "atabaeva" %}selected{% endif %}>Атабаева 105 (Ozon)</option>
                        </select>
                    </div>

                    <!-- Submit Button -->
                    <div class="flex justify-end">
                        <button type="submit" class="bg-red-500 text-white px-5 py-2 rounded hover:bg-red-600 transition">
                            Сохранить изменения
                        </button>
                    </div>
                </form>
            </section>
        </div>
        {% endblock %}

    {% include 'includes/footer.html' %}
</body>
</html>